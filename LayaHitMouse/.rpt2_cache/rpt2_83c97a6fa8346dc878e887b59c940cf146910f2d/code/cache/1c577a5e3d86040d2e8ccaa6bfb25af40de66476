{
  "code": "import game_config from \"./game_config\";\r\nimport mouse from \"./mouse\";\r\nimport hammer from \"./hammer\";\r\nexport default class game_m extends Laya.Script {\r\n    static create() { }\r\n    ;\r\n    constructor() {\r\n        super();\r\n        this.mouse_prefab = null;\r\n        this.mouse_root = null;\r\n        this.hammer = null;\r\n        this.gamescore = null;\r\n        this.score = 0;\r\n    }\r\n    clone_mouse() {\r\n        var m = this.mouse_prefab.create();\r\n        this.mouse_root.addChild(m);\r\n        var hole_index = Math.random() * 9;\r\n        hole_index = Math.floor(hole_index);\r\n        m.x = game_config.mouse_pos[hole_index].x;\r\n        m.y = game_config.mouse_pos[hole_index].y;\r\n        var mouse_type = (Math.random() < 0.5) ? 1 : 2;\r\n        m.getComponent(mouse).show_mouse(this, mouse_type, hole_index);\r\n        var time = (2 + Math.random() * 2) * 1000;\r\n        time = Math.floor(time);\r\n        Laya.timer.once(time, this, this.clone_mouse);\r\n    }\r\n    play_mouse_addScore(mouse_type, hole_index) {\r\n        this.score += (mouse_type == 2 ? 100 : -100);\r\n        if (this.score < 0) {\r\n            this.score = 0;\r\n            alert(\"游戏结束\");\r\n        }\r\n        this.gamescore.text = this.score;\r\n        this.hammer.x = game_config.hammer_pos[hole_index].x;\r\n        this.hammer.y = game_config.hammer_pos[hole_index].y;\r\n        this.hammer_com.play_hammer();\r\n    }\r\n    onStart() {\r\n        this.hammer_com = this.hammer.getComponent(hammer);\r\n        this.clone_mouse();\r\n    }\r\n}\r\n",
  "references": [
    "C:/Users/Administrator/Desktop/playMouse-ts/pm/src/game/game_config.ts",
    "C:/Users/Administrator/Desktop/playMouse-ts/pm/src/game/mouse.ts",
    "C:/Users/Administrator/Desktop/playMouse-ts/pm/src/game/hammer.ts"
  ]
}
